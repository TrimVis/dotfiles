#!/bin/bash

# Get the first wireless device name in iwconfig
IP=$(ip addr show dev $DEV | awk '/inet / {print $2}') 

case $BLOCK_BUTTON in
	1) notify-send "ðŸŒ Wifi" "Local IP: $IP
Global IP: $(curl ifconfig.me)";;
	3) nm-connection-editor;;
esac

SSID=$(iwconfig 2> /dev/null | awk -F\" '/ESSID:/ { print $2 }')

if [ -z "$SSID" ]
then
	echo "ó°¤® off"
else
	STRE=$(iwconfig 2> /dev/null | awk -F'=' '{ print $2 }' | awk '/..\/../{ print $1 }' | tail -n 1)
	PERC=$(bc <<< "scale=0;100*$STRE")
  ICON="ó°¤¨"

  if [ $PERC -lt 80 ]; then
    ICON="ó°¤¥"
  fi
  if [ $PERC -lt 60 ]; then
    ICON="ó°¤¢"
  fi
  if [ $PERC -lt 40 ]; then
    ICON="ó°¤Ÿ"
  fi
  if [ $PERC -lt 20 ]; then
    ICON="ó°¤¯"
  fi
	echo "$ICON \"$SSID\" $PERC%"
fi
